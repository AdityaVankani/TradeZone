{"ast":null,"code":"import React,{useState}from'react';import{Container,Paper,Typography,TextField,Button,Box,Link,Chip}from'@mui/material';import{useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const navigate=useNavigate();const{login,user}=useAuth();const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();try{await login(email,password);navigate('/');}catch(error){setError('Invalid email or password');}};return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",children:/*#__PURE__*/_jsx(Box,{sx:{mt:8},children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",align:\"center\",gutterBottom:true,children:\"Login\"}),user&&/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',mb:2},children:/*#__PURE__*/_jsx(Chip,{label:`Role: ${user.role}`,color:user.role==='admin'?'error':'primary'})}),error&&/*#__PURE__*/_jsx(Typography,{color:\"error\",align:\"center\",gutterBottom:true,children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Email\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value),margin:\"normal\",required:true}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Password\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),margin:\"normal\",required:true}),/*#__PURE__*/_jsx(Button,{fullWidth:true,type:\"submit\",variant:\"contained\",color:\"primary\",sx:{mt:3},children:\"Login\"}),/*#__PURE__*/_jsx(Box,{sx:{mt:2,textAlign:'center'},children:/*#__PURE__*/_jsx(Link,{href:\"/register\",variant:\"body2\",children:\"Don't have an account? Sign up\"})})]})]})})});};export default Login;","map":{"version":3,"names":["React","useState","Container","Paper","Typography","TextField","Button","Box","Link","Chip","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","Login","navigate","login","user","email","setEmail","password","setPassword","error","setError","handleSubmit","e","preventDefault","maxWidth","children","sx","mt","elevation","p","variant","align","gutterBottom","display","justifyContent","mb","label","role","color","onSubmit","fullWidth","type","value","onChange","target","margin","required","textAlign","href"],"sources":["D:/Chesax/chesa-stock-exchange/chesa-stock-exchange/frontend/src/pages/Login.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Container,\n  Paper,\n  Typography,\n  TextField,\n  Button,\n  Box,\n  Link,\n  Chip,\n} from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const { login, user } = useAuth();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      await login(email, password);\n      navigate('/');\n    } catch (error) {\n      setError('Invalid email or password');\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Box sx={{ mt: 8 }}>\n        <Paper elevation={3} sx={{ p: 4 }}>\n          <Typography variant=\"h4\" align=\"center\" gutterBottom>\n            Login\n          </Typography>\n          {user && (\n            <Box sx={{ display: 'flex', justifyContent: 'center', mb: 2 }}>\n              <Chip \n                label={`Role: ${user.role}`} \n                color={user.role === 'admin' ? 'error' : 'primary'} \n              />\n            </Box>\n          )}\n          {error && (\n            <Typography color=\"error\" align=\"center\" gutterBottom>\n              {error}\n            </Typography>\n          )}\n          <form onSubmit={handleSubmit}>\n            <TextField\n              fullWidth\n              label=\"Email\"\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              margin=\"normal\"\n              required\n            />\n            <TextField\n              fullWidth\n              label=\"Password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              margin=\"normal\"\n              required\n            />\n            <Button\n              fullWidth\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              sx={{ mt: 3 }}\n            >\n              Login\n            </Button>\n            <Box sx={{ mt: 2, textAlign: 'center' }}>\n              <Link href=\"/register\" variant=\"body2\">\n                Don't have an account? Sign up\n              </Link>\n            </Box>\n          </form>\n        </Paper>\n      </Box>\n    </Container>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}