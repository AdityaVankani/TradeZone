{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ronak\\\\Desktop\\\\CSE\\\\chesa-stock-exchange\\\\frontend\\\\src\\\\pages\\\\News.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Typography, Card, CardContent, Grid, Box, TextField, Button } from '@mui/material';\nimport { useAuth } from '../contexts/AuthContext';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst News = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [news, setNews] = useState([]);\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  useEffect(() => {\n    fetchNews();\n  }, []);\n  const fetchNews = async () => {\n    try {\n      const response = await axios.get('http://localhost:5000/api/news');\n      setNews(response.data);\n    } catch (error) {\n      console.error('Error fetching news:', error);\n    }\n  };\n  const handleSubmitNews = async e => {\n    e.preventDefault();\n    try {\n      await axios.post('http://localhost:5000/api/news', {\n        title,\n        content\n      });\n      setTitle('');\n      setContent('');\n      fetchNews();\n    } catch (error) {\n      console.error('Error creating news:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"Market News\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), (user === null || user === void 0 ? void 0 : user.role) === 'admin' && /*#__PURE__*/_jsxDEV(Box, {\n      component: \"form\",\n      onSubmit: handleSubmitNews,\n      sx: {\n        mb: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Create News\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Title\",\n            value: title,\n            onChange: e => setTitle(e.target.value),\n            margin: \"normal\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Content\",\n            value: content,\n            onChange: e => setContent(e.target.value),\n            margin: \"normal\",\n            required: true,\n            multiline: true,\n            rows: 4\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"contained\",\n            color: \"primary\",\n            sx: {\n              mt: 2\n            },\n            children: \"Publish News\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: news.map(item => /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              color: \"textSecondary\",\n              gutterBottom: true,\n              children: new Date(item.created_at).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              children: item.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(News, \"Ajo/VcsKSZenVHTYtjng2BoLFm4=\", false, function () {\n  return [useAuth];\n});\n_c = News;\nexport default News;\nvar _c;\n$RefreshReg$(_c, \"News\");","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","Card","CardContent","Grid","Box","TextField","Button","useAuth","axios","jsxDEV","_jsxDEV","News","_s","user","news","setNews","title","setTitle","content","setContent","fetchNews","response","get","data","error","console","handleSubmitNews","e","preventDefault","post","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","role","component","onSubmit","sx","mb","fullWidth","label","value","onChange","target","margin","required","multiline","rows","type","color","mt","container","spacing","map","item","xs","Date","created_at","toLocaleDateString","id","_c","$RefreshReg$"],"sources":["C:/Users/Ronak/Desktop/CSE/chesa-stock-exchange/frontend/src/pages/News.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Container,\n  Typography,\n  Card,\n  CardContent,\n  Grid,\n  Box,\n  TextField,\n  Button,\n} from '@mui/material';\nimport { useAuth } from '../contexts/AuthContext';\nimport axios from 'axios';\n\ninterface NewsItem {\n  id: string;\n  title: string;\n  content: string;\n  created_at: string;\n}\n\nconst News = () => {\n  const { user } = useAuth();\n  const [news, setNews] = useState<NewsItem[]>([]);\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n\n  useEffect(() => {\n    fetchNews();\n  }, []);\n\n  const fetchNews = async () => {\n    try {\n      const response = await axios.get('http://localhost:5000/api/news');\n      setNews(response.data);\n    } catch (error) {\n      console.error('Error fetching news:', error);\n    }\n  };\n\n  const handleSubmitNews = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      await axios.post('http://localhost:5000/api/news', {\n        title,\n        content,\n      });\n      setTitle('');\n      setContent('');\n      fetchNews();\n    } catch (error) {\n      console.error('Error creating news:', error);\n    }\n  };\n\n  return (\n    <Container>\n      <Typography variant=\"h4\" gutterBottom>\n        Market News\n      </Typography>\n\n      {user?.role === 'admin' && (\n        <Box component=\"form\" onSubmit={handleSubmitNews} sx={{ mb: 4 }}>\n          <Card>\n            <CardContent>\n              <Typography variant=\"h6\" gutterBottom>\n                Create News\n              </Typography>\n              <TextField\n                fullWidth\n                label=\"Title\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n                margin=\"normal\"\n                required\n              />\n              <TextField\n                fullWidth\n                label=\"Content\"\n                value={content}\n                onChange={(e) => setContent(e.target.value)}\n                margin=\"normal\"\n                required\n                multiline\n                rows={4}\n              />\n              <Button\n                type=\"submit\"\n                variant=\"contained\"\n                color=\"primary\"\n                sx={{ mt: 2 }}\n              >\n                Publish News\n              </Button>\n            </CardContent>\n          </Card>\n        </Box>\n      )}\n\n      <Grid container spacing={3}>\n        {news.map((item) => (\n          <Grid item xs={12} key={item.id}>\n            <Card>\n              <CardContent>\n                <Typography variant=\"h6\" gutterBottom>\n                  {item.title}\n                </Typography>\n                <Typography color=\"textSecondary\" gutterBottom>\n                  {new Date(item.created_at).toLocaleDateString()}\n                </Typography>\n                <Typography variant=\"body1\">{item.content}</Typography>\n              </CardContent>\n            </Card>\n          </Grid>\n        ))}\n      </Grid>\n    </Container>\n  );\n};\n\nexport default News;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}