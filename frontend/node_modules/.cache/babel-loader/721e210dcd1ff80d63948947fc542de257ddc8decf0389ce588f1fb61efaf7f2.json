{"ast":null,"code":"import React,{useState}from'react';import{Container,Paper,Typography,TextField,Button,Box,Link,FormControl,InputLabel,Select,MenuItem}from'@mui/material';import{useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const navigate=useNavigate();const{register}=useAuth();const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[role,setRole]=useState('user');const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();if(password!==confirmPassword){setError('Passwords do not match');return;}try{await register(email,password,role);navigate('/login');}catch(error){setError('Registration failed. Please try again.');}};return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",children:/*#__PURE__*/_jsx(Box,{sx:{mt:8},children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",align:\"center\",gutterBottom:true,children:\"Register\"}),error&&/*#__PURE__*/_jsx(Typography,{color:\"error\",align:\"center\",gutterBottom:true,children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Email\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value),margin:\"normal\",required:true}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Password\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),margin:\"normal\",required:true}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Confirm Password\",type:\"password\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),margin:\"normal\",required:true}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,margin:\"normal\",required:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Role\"}),/*#__PURE__*/_jsxs(Select,{value:role,label:\"Role\",onChange:e=>setRole(e.target.value),children:[/*#__PURE__*/_jsx(MenuItem,{value:\"user\",children:\"User\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"admin\",children:\"Admin\"})]})]}),/*#__PURE__*/_jsx(Button,{fullWidth:true,type:\"submit\",variant:\"contained\",color:\"primary\",sx:{mt:3},children:\"Register\"}),/*#__PURE__*/_jsx(Box,{sx:{mt:2,textAlign:'center'},children:/*#__PURE__*/_jsx(Link,{href:\"/login\",variant:\"body2\",children:\"Already have an account? Sign in\"})})]})]})})});};export default Register;","map":{"version":3,"names":["React","useState","Container","Paper","Typography","TextField","Button","Box","Link","FormControl","InputLabel","Select","MenuItem","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","Register","navigate","register","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","role","setRole","error","setError","handleSubmit","e","preventDefault","maxWidth","children","sx","mt","elevation","p","variant","align","gutterBottom","color","onSubmit","fullWidth","label","type","value","onChange","target","margin","required","textAlign","href"],"sources":["D:/Chesax/chesa-stock-exchange/chesa-stock-exchange/frontend/src/pages/Register.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Container,\n  Paper,\n  Typography,\n  TextField,\n  Button,\n  Box,\n  Link,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n} from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst Register = () => {\n  const navigate = useNavigate();\n  const { register } = useAuth();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [role, setRole] = useState('user');\n  const [error, setError] = useState('');\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (password !== confirmPassword) {\n      setError('Passwords do not match');\n      return;\n    }\n    try {\n      await register(email, password, role);\n      navigate('/login');\n    } catch (error) {\n      setError('Registration failed. Please try again.');\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Box sx={{ mt: 8 }}>\n        <Paper elevation={3} sx={{ p: 4 }}>\n          <Typography variant=\"h4\" align=\"center\" gutterBottom>\n            Register\n          </Typography>\n          {error && (\n            <Typography color=\"error\" align=\"center\" gutterBottom>\n              {error}\n            </Typography>\n          )}\n          <form onSubmit={handleSubmit}>\n            <TextField\n              fullWidth\n              label=\"Email\"\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              margin=\"normal\"\n              required\n            />\n            <TextField\n              fullWidth\n              label=\"Password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              margin=\"normal\"\n              required\n            />\n            <TextField\n              fullWidth\n              label=\"Confirm Password\"\n              type=\"password\"\n              value={confirmPassword}\n              onChange={(e) => setConfirmPassword(e.target.value)}\n              margin=\"normal\"\n              required\n            />\n            <FormControl fullWidth margin=\"normal\" required>\n              <InputLabel>Role</InputLabel>\n              <Select\n                value={role}\n                label=\"Role\"\n                onChange={(e) => setRole(e.target.value)}\n              >\n                <MenuItem value=\"user\">User</MenuItem>\n                <MenuItem value=\"admin\">Admin</MenuItem>\n              </Select>\n            </FormControl>\n            <Button\n              fullWidth\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              sx={{ mt: 3 }}\n            >\n              Register\n            </Button>\n            <Box sx={{ mt: 2, textAlign: 'center' }}>\n              <Link href=\"/login\" variant=\"body2\">\n                Already have an account? Sign in\n              </Link>\n            </Box>\n          </form>\n        </Paper>\n      </Box>\n    </Container>\n  );\n};\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}